# ===========================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# ===========================================

# ===========================================
# PHP-APACHE SERVICE CONFIGURATION
# ===========================================
PHP_VERSION=8.1-apache
PHP_USER_ID=1100
PHP_USER_NAME=phpapacheuser
PHP_GROUP_ID=1100
PHP_GROUP_NAME=phpapachegrp
PHP_DIR_PATH=/var/www/html/
PHP_APP_PORT=8088
PHP_MOUNT1=/php/data
PHP_MOUNT2=/php/logs
PHP_SHELL=/bin/bash
PHP_HOSTNAME=php-apache-host
PHP_ENV=production
PHP_HEALTH_URL=http://localhost:8088/health
PHP_VAR_RUN_PATH=/var/run/apache2
PHP_CP_SRC=/php-apache/src
PHP_CP_PHP_CFG=/php-apache/php-config
PHP_CP_APACHE_CFG=/php-apache/apache-config
PHP_VAR_LOGS=/var/log/apache2

# ===========================================
# MYSQL SERVICE CONFIGURATION
# ===========================================
MYSQL_VERSION=8.0
MYSQL_USER_ID=1010
MYSQL_USER_NAME=sqluser
MYSQL_GROUP_ID=1010
MYSQL_GROUP_NAME=sqlgroup
MYSQL_APP_PORT=3306
MYSQL_APP_ENV=production
MYSQL_BASH_SHELL=/bin/bash
MYSQL_APP_DIR=/sqldb
MYSQL_MOUNT1=/sqldb/data
MYSQL_MOUNT2=/sqldb/logs

# ===========================================
# DATABASE CREDENTIALS (CHANGE THESE!)
# ===========================================
MYSQL_ROOT_PASSWORD=rootpass123!@#
MYSQL_DATABASE=myappdb
MYSQL_USER=appuser
MYSQL_PASSWORD=MyAppUserPass456!@#

# ===========================================
# TIMEZONE CONFIGURATION
# ===========================================
TZ=Europe/Paris

# ===========================================
# NETWORK CONFIGURATION
# ===========================================
NETWORK_SUBNET=172.18.19.0/24

# ===========================================
# PORTS CONFIGURATION
# Note: Port 8080 is reserved for Jenkins server
# ===========================================
PHP_EXTERNAL_PORT=8088
MYSQL_EXTERNAL_PORT=3306
ADMINER_EXTERNAL_PORT=8082

# ===========================================
# VOLUME PATHS (HOST DIRECTORIES)
# ===========================================
PHP_DATA_PATH=./volumes/php_data
PHP_LOGS_PATH=./volumes/php_logs
MYSQL_DATA_PATH=./volumes/mysql_data
MYSQL_LOGS_PATH=./volumes/mysql_logs

# ===========================================
# RESOURCE LIMITS
# ===========================================
# PHP Resource Limits
PHP_MEMORY_LIMIT=1g
PHP_CPU_LIMIT=0.5
PHP_MEMORY_RESERVATION=512m
PHP_CPU_RESERVATION=0.25

# MySQL Resource Limits
MYSQL_MEMORY_LIMIT=2g
MYSQL_CPU_LIMIT=1.0
MYSQL_MEMORY_RESERVATION=1g
MYSQL_CPU_RESERVATION=0.5

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_MAX_SIZE=50m
LOG_MAX_FILES=10
LOG_COMPRESS=true

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
ULIMIT_NOFILE_SOFT=1024
ULIMIT_NOFILE_HARD=65536
ULIMIT_NPROC_SOFT=1024
ULIMIT_NPROC_HARD=4096

# ===========================================
# HEALTHCHECK CONFIGURATION
# ===========================================
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=15s
HEALTHCHECK_RETRIES=5  # Increased retries for MySQL stability
HEALTHCHECK_START_PERIOD=60s  # Increased start period for MySQL

# ===========================================
# DNS CONFIGURATION
# ===========================================
DNS_PRIMARY=1.1.1.1
DNS_SECONDARY=8.8.8.8

# ===========================================
# COMPOSE PROJECT CONFIGURATION
# ===========================================
COMPOSE_PROJECT_NAME=php-mysql-app

# ===========================================
# MAINTAINER INFORMATION
# ===========================================
MAINTAINER=farajassulai
MAINTAINER_EMAIL=farajassulai@gmail.com
APP_DESCRIPTION=PHP-Apache2 application with MySQL database
DATE_CREATED=2025-07-18
VERSION=1.0.0

# Apache Ports Configuration
# Listen directive tells Apache which IP addresses and ports to listen on
Listen 8088

# SSL Configuration (if needed)
<IfModule mod_ssl.c>
    Listen 443 ssl
</IfModule>

<IfModule mod_gnutls.c>
    Listen 443 ssl
</IfModule>

# Server configuration
ServerTokens Prod
ServerSignature Off

# Connection timeout settings
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 15

# MPM Configuration - Only configure if module is loaded
# For mpm_prefork (recommended for PHP applications)
<IfModule mpm_prefork_module>
    StartServers 2
    MinSpareServers 2
    MaxSpareServers 5
    MaxRequestWorkers 150
    MaxConnectionsPerChild 1000
</IfModule>

# For mpm_worker (multi-threaded)
<IfModule mpm_worker_module>
    StartServers 2
    MinSpareThreads 25
    MaxSpareThreads 75
    ThreadLimit 64
    ThreadsPerChild 25
    MaxRequestWorkers 150
    MaxConnectionsPerChild 1000
</IfModule>

# For mpm_event (event-driven, best performance)
<IfModule mpm_event_module>
    StartServers 2
    MinSpareThreads 25
    MaxSpareThreads 75
    ThreadLimit 64
    ThreadsPerChild 25
    MaxRequestWorkers 150
    MaxConnectionsPerChild 1000
</IfModule>

# Additional performance tuning
<IfModule mod_deflate.c>
    # Enable compression for text files
    SetOutputFilter DEFLATE
    SetEnvIfNoCase Request_URI \
        \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \
        \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary
</IfModule>

# Security headers (if mod_headers is available)
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>
